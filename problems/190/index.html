<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reverse Bits Visualizer ‚Äî LeetCode #190</title>
    <meta name="description"
        content="Interactive visualizer for the Reverse Bits problem (LeetCode #190). Watch bits reverse step-by-step with animated binary representation." />
    <link rel="stylesheet" href="../../shared/theme.css" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header__brand">
                <span class="header__icon">üîÑ</span>
                <h1 class="header__title">Reverse Bits</h1>
                <span class="header__badge">LeetCode #190</span>
            </div>
            <p class="header__subtitle">Reverse all 32 bits of an unsigned integer ‚Äî step by step</p>
        </header>

        <main class="main">
            <!-- Input Section -->
            <section class="input-section">
                <div class="panel input-panel">
                    <h2 class="panel__title">Input</h2>
                    <div class="control-group">
                        <label class="control-label" for="decimalInput">Decimal Value</label>
                        <input type="number" id="decimalInput" class="text-input" min="0" max="4294967295"
                            value="43261596" placeholder="Enter unsigned 32-bit integer" />
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="binaryInput">Binary (32-bit)</label>
                        <input type="text" id="binaryInput" class="text-input mono" maxlength="39"
                            value="00000010100101000001111010011100" placeholder="Enter 32-bit binary" />
                    </div>
                    <div class="preset-row">
                        <span class="preset-label">Examples:</span>
                        <button class="preset-btn" data-value="43261596">43261596</button>
                        <button class="preset-btn" data-value="4294967293">4294967293</button>
                        <button class="preset-btn" data-value="21">21</button>
                        <button class="preset-btn" data-value="0">0</button>
                        <button class="preset-btn" data-value="4294967295">2¬≥¬≤ ‚àí 1</button>
                    </div>
                    <div class="button-row">
                        <button id="btnPlay" class="btn btn--primary">
                            <span class="btn__icon">‚ñ∂</span> Play
                        </button>
                        <button id="btnStep" class="btn btn--secondary">
                            <span class="btn__icon">‚è≠</span> Step
                        </button>
                        <button id="btnReset" class="btn btn--ghost">
                            <span class="btn__icon">‚Ü∫</span> Reset
                        </button>
                    </div>
                    <div class="control-group" style="margin-top:0.5rem">
                        <label class="control-label" for="speedSlider">
                            Speed
                            <span class="control-value" id="speedValue">2√ó</span>
                        </label>
                        <input type="range" id="speedSlider" class="slider" min="1" max="5" step="1" value="2" />
                    </div>
                </div>
            </section>

            <!-- Visualization Section -->
            <section class="viz-section">
                <!-- Original bits -->
                <div class="bit-strip-container">
                    <div class="bit-strip-label">
                        <span class="bit-strip-label__text">Input <code>n</code></span>
                        <span class="bit-strip-label__dec" id="inputDecLabel">43261596</span>
                    </div>
                    <div class="bit-strip" id="inputBits"></div>
                    <div class="bit-indices" id="inputIndices"></div>
                </div>

                <!-- Arrow area showing which bit is being transferred -->
                <div class="transfer-area" id="transferArea">
                    <div class="transfer-arrow" id="transferArrow">
                        <svg class="arrow-svg" viewBox="0 0 100 80" preserveAspectRatio="none">
                            <defs>
                                <marker id="arrowHead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="var(--cyan)" />
                                </marker>
                            </defs>
                            <path id="arrowPath" d="" stroke="var(--cyan)" stroke-width="2" fill="none"
                                marker-end="url(#arrowHead)" />
                        </svg>
                    </div>
                    <div class="transfer-info" id="transferInfo">
                        <span class="transfer-info__step">Step <span id="stepNum">‚Äî</span>/32</span>
                        <span class="transfer-info__detail" id="stepDetail">Press Play or Step to begin</span>
                    </div>
                </div>

                <!-- Result bits -->
                <div class="bit-strip-container">
                    <div class="bit-strip-label">
                        <span class="bit-strip-label__text">Result</span>
                        <span class="bit-strip-label__dec" id="resultDecLabel">‚Äî</span>
                    </div>
                    <div class="bit-strip" id="resultBits"></div>
                    <div class="bit-indices" id="resultIndices"></div>
                </div>

                <!-- Operation breakdown -->
                <div class="ops-panel" id="opsPanel">
                    <div class="ops-row" id="opsExtract">
                        <span class="ops-label">Extract LSB</span>
                        <code class="ops-code" id="opsExtractCode">‚Äî</code>
                    </div>
                    <div class="ops-row" id="opsShiftResult">
                        <span class="ops-label">Left-shift result</span>
                        <code class="ops-code" id="opsShiftResultCode">‚Äî</code>
                    </div>
                    <div class="ops-row" id="opsOr">
                        <span class="ops-label">OR bit into result</span>
                        <code class="ops-code" id="opsOrCode">‚Äî</code>
                    </div>
                    <div class="ops-row" id="opsShiftN">
                        <span class="ops-label">Right-shift n</span>
                        <code class="ops-code" id="opsShiftNCode">‚Äî</code>
                    </div>
                </div>
            </section>

            <!-- Hints Panel -->
            <section class="panel algo-panel">
                <h2 class="panel__title">Hints</h2>
                <div class="hints-progress">
                    <span id="hintsCount">0 / 5 revealed</span>
                    <div class="hints-progress__bar">
                        <div class="hints-progress__fill" id="hintsProgressFill"></div>
                    </div>
                </div>
                <div class="hints-container" id="hintsContainer">
                    <div class="hint" data-hint="0">
                        <div class="hint__num">1</div>
                        <div class="hint__text">Think about how you'd reverse a string ‚Äî can you apply a similar idea to
                            a sequence of bits?</div>
                        <div class="hint__blur"><span class="hint__blur-icon">üîí</span><span
                                class="hint__blur-label">Click to reveal</span></div>
                    </div>
                    <div class="hint locked" data-hint="1">
                        <div class="hint__num">2</div>
                        <div class="hint__text">You need to move each bit from its <strong>original position</strong> to
                            its <strong>mirror position</strong>. Bit 0 goes to position 31, bit 1 to 30, etc.</div>
                        <div class="hint__blur"><span class="hint__blur-icon">üîí</span><span
                                class="hint__blur-label">Click to reveal</span></div>
                    </div>
                    <div class="hint locked" data-hint="2">
                        <div class="hint__num">3</div>
                        <div class="hint__text">You can extract the <em>rightmost bit</em> of any number using
                            <code>n & 1</code>. This gives you 0 or 1.</div>
                        <div class="hint__blur"><span class="hint__blur-icon">üîí</span><span
                                class="hint__blur-label">Click to reveal</span></div>
                    </div>
                    <div class="hint locked" data-hint="3">
                        <div class="hint__num">4</div>
                        <div class="hint__text">Build the result bit by bit: <strong>shift result left</strong> to make
                            room, then <strong>OR</strong> in the extracted bit. After each extraction, <strong>shift n
                                right</strong> to expose the next bit.</div>
                        <div class="hint__blur"><span class="hint__blur-icon">üîí</span><span
                                class="hint__blur-label">Click to reveal</span></div>
                    </div>
                    <div class="hint locked" data-hint="4">
                        <div class="hint__num">5</div>
                        <div class="hint__text">Loop exactly <strong>32 times</strong>:
                            <code>result = (result &lt;&lt; 1) | (n & 1)</code>, then <code>n &gt;&gt;&gt;= 1</code>.
                            Return <code>result</code>.</div>
                        <div class="hint__blur"><span class="hint__blur-icon">üîí</span><span
                                class="hint__blur-label">Click to reveal</span></div>
                    </div>
                </div>

                <!-- Result summary -->
                <div class="result-card" id="resultCard">
                    <div class="result-card__label">Final Answer</div>
                    <div class="result-card__row">
                        <span class="result-card__key">Decimal</span>
                        <span class="result-card__val mono" id="finalDec">‚Äî</span>
                    </div>
                    <div class="result-card__row">
                        <span class="result-card__key">Hex</span>
                        <span class="result-card__val mono" id="finalHex">‚Äî</span>
                    </div>
                    <div class="result-card__row">
                        <span class="result-card__key">Binary</span>
                        <span class="result-card__val mono small" id="finalBin">‚Äî</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>